











































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































#+TITLE: Go
* 
- [[#go][GO]]
- [[#][]]
- [[#][]]
- [[#][]]
- [[#][]]
- [[#][]]
- [[#jsonxml][JSONXML]]
- [[#mysql][MySQL]]
- [[#][]]
- [[#orm][ORM]]
- [[#tcpudp][TCPUDP]]
- [[#web][WEB]]
* GO
*** Go
    #+begin_src go
    package main
    import (
    "fmt"
    )
    func main() {
    fmt.Println("Hello World!")
    }
    #+end_src
    package (main)
    import (fmt)
    func (main )
    GoUTF-8,GoUTF-8

*** 
    | <l>          |            |                                 |
    |--------------+------------+---------------------------------|
    |          | () |                             |
    |--------------+------------+---------------------------------|
    | bool         |          1 | true false.true |
    |--------------+------------+---------------------------------|
    | byte         |          1 | uint8                       |
    |--------------+------------+---------------------------------|
    | rune         |          4 | int32 .Unicode. |
    |--------------+------------+---------------------------------|
    | int/uint     |          4 | ,32bit/64bit.   |
    |--------------+------------+---------------------------------|
    | int8/uint8   |          1 | -128~127   / 0 ~ 255            |
    |--------------+------------+---------------------------------|
    | int16/uint16 |          2 | -32768~32767;0~65535            |
    |--------------+------------+---------------------------------|
    | int32/uint32 |          4 | -21 ~ 21, 0 ~ 42          |
    |--------------+------------+---------------------------------|
    | complex64    |          4 | ,32+32    |
    |--------------+------------+---------------------------------|
    | complex128   |         16 | ,64+64    |
    |--------------+------------+---------------------------------|
    | uintptr      |            | 3264    |
    |--------------+------------+---------------------------------|
    | array        |            | ,,[2]int            |
    |--------------+------------+---------------------------------|
    | struct       |            | ,                   |
    |--------------+------------+---------------------------------|
    | slice        |            |  : []int              |
    |--------------+------------+---------------------------------|
    | map          |            |                         |
    |--------------+------------+---------------------------------|
    | channel      |            |                         |
    |--------------+------------+---------------------------------|
    | Interface    |            |                         |
    |--------------+------------+---------------------------------|
    | function     |            |                             |
    |--------------+------------+---------------------------------|

*** 
    Go
    1) var n int //n
    2) var i int = 3 //i3
    3) var(

   aa int = 3

   str string="abcd"
)
    4) var i1,i2,i3 int=1,2,3
    5) var strName = "zhangsan"
    6) strSex := ""
   #+BEGIN_SRC go -n
package main

import "fmt"

func main() {
	var b bool
	var n int
	var i int = 3
	var (
		aa  int = 3
		str string
	)
	var i1, i2, i3 int = 1, 2, 3
	var strName = ""
	strSex := ""

	fmt.Println("n = ", n)
	fmt.Println("b ", b)
	fmt.Println("i=", i)
	fmt.Println("aa=", aa)
	fmt.Println("str=", str)
	fmt.Println("i1=", i1, "i2=", i2, "i3=", i3)
	fmt.Println("strName=", strName)
	fmt.Println("strSex=", strSex)
}

   #+END_SRC
*** array slice map 
**** 
     + array:
     *1.Go,,
  *
     *2.Go,*
     *3.arrayType*

     + :
  var arr_1 [2]int  //0

  arr_2 := [2]int{} //

  arr_3 := [2]int{1,2} //{1,2}

  arr_4 := [...]int{1,2} //

  arr_5 := [...]int{3:9} //4,{0,0,0,9}
****  Slice
     Slice,.
     []TT,,.
     #+BEGIN_SRC go
     package main

     import "fmt"
     import "reflect"

     func main() {
     p := [...]int{2, 3, 5, 7, 11, 13} //
     s1 := p[1:3]
     fmt.Println(s1)
     fmt.Println(reflect.TypeOf(p))
     fmt.Println(reflect.TypeOf(s1))
     ChangeArrayValue(p)
     fmt.Println(p)

     ChangeSliceValue(s1)
     fmt.Println(s1)
     fmt.Println(p)
     }

     func ChangeArrayValue(arr [6]int) {
     arr[0] = 100
     }
     func ChangeSliceValue(slice []int) {
     slice[0] = 100
     }

     #+END_SRC
**** Map
     mapkey-valuehash,mapkey(== !=).
     Mapmake,make(map[TK]TV),TKkey,TV.
     #+BEGIN_SRC go 
     // Package main provides ...
     package main

     import (
     "fmt"
     )

     func main() {
     mp := make(map[string]string)
     mp["a"] = "1"
     mp["b"] = "2"
     mp["pi"] = "3.1415926"

     v, ok := mp["pi"]

     if ok {
     fmt.Println(v)
     } else {
     fmt.Println("Key sh ")
     }

     }

     #+END_SRC
**** range 
     Rangestring array slice map channel.
     #+BEGIN_SRC go 
     // Package main provides ...
     package main

     import (
     "fmt"
     )

     func main() {
     arr := [3]int{1, 2, 3}
     var mp = map[int]string{1: "a", 2: "b", 3: "c"}
     for k, v := range mp {
     fmt.Println(k, " = ", v)
     }

     for _, v := range arr {
     fmt.Println(v)
     }
     }

     #+END_SRC
*** 
    cconst.
    const PI=3.1415926
    const(
    a = 12
    b = "bool"
    )
    const(
    a = iota //0
    b  //1
    c  //2
    d  //3
    e = iota
    f  //1
    )
*** 
**** if else
     if a == b {
     ...
     }// else {
     ...
     }
**** switch
     break
     switch i {
     case ex1:
     ...
     case ex2:
     ..
     case ex3:
     ...
     case ex4:
     fallthrough
     default:
     ...
     }
**** for 
for init;condition;post{}
for condition {}
for {}
*  
*** 
     
    func mymethod(args type) return1 type1, return2 type2...{}
*** defer
    ,defer,
    ,,.
*** 
    ,,,
    #+BEGIN_SRC go 

    // Package main provides ...
    package main

    import (
    "fmt"
    )

    type MyFuncType func(int) bool

    func IsBigThan5(n int) bool {
    return n > 5
    }
    func Display(arr []int, f MyFuncType) {
    for _, v := range arr {
    if f(v) {
    fmt.Println(v)
    }
    }
    }
    func main() {
    arr := []int{1, 2, 3, 4, 5, 6, 7, 8, 9}
    Display(arr, IsBigThan5)
    }

    #+END_SRC
*** 
    Gotry...catch...finally,
    panicthrow.recover.
    #+BEGIN_SRC go 

    // Package main provides ...
    package main

    import (
    "fmt"
    )

    func Test() {
    defer func() {
    if err := recover(); err != nil {
    fmt.Println(err)
    }
    }()
    divide(5, 0)
    fmt.Println("end of test")
    }

    func divide(a, b int) int {
    return a / b
    }
    func main() {
    Test()
    }

    #+END_SRC

*** 
    Go   
* 
*** struct
    ,struct.
    
    type Object struct {
    Name string
    Age  int 
    ...
    }
*** 
    type Base struct {
    ...
    }
    type Case struct {
    Base
    ...
    }
*** Interface
    ,.,
    ,Go.
    #+BEGIN_SRC go

    // Package main provides ...
    package main

    import (
    "fmt"
    )

    type Student struct {
    Name  string
    Age   int
    class string
    }

    type IStudent interface {
    GetName() string
    GetAge() int
    }

    //Get,StudentIStudent
    func (this *Student) GetName() string {
    return this.Name
    }

    func (this *Student) GetAge() int {
    return this.Age
    }

    func main() {
    var s1 IStudent = &Student{"", 23, "2017(2)"}
    fmt.Println(s1.GetName)
    }


    #+END_SRC
* 
*** 
    CPU,CPU.
    ,Gogoroutine,4-5k,
    ,,,,.

    ,,,
    runtime.GOMAXPROCS(n),GOMAXPROCS.
    #+BEGIN_SRC go -n
    // Package main provides ...
    package main

    import (
    "fmt"
    "runtime"
    "time"
    )

    func SayHello() {
    for i := 0; i < 10; i++ {
    fmt.Print("Hello")
    runtime.Gosched() //CPU
    }
    }

    func SayWorld() {
    for i := 0; i < 10; i++ {
    fmt.Println("World!!")
    runtime.Gosched()
    }
    }

    func main() {
    fmt.Println(runtime.NumCPU()) //CPU
    fmt.Println(runtime.NumGoroutine()) //Goroutime
    go SayHello()
    go SayWorld()
    time.Sleep(5 * time.Second)
    }

    #+END_SRC
*** channel
    Goroutinechannel,channel.
    goroutinechannel,goroutine.
    #+BEGIN_SRC go -n
    // Package main provides /channel,
    //goroutinechannel,goroutine
    package main

    import (
    "fmt"
    )

    func producer(ch chan int) {
    defer close(ch) //channel
    for i := 0; i < 10; i++ {
    ch <- i //,
    }
    }

    func consumer(c, f chan int) {
    for {
    if v, ok := <-c; ok {
    fmt.Println(v) //,
    } else {
    break
    }
    }
    f <- 1
    }

    func main() {
    buf := make(chan int)
    flg := make(chan int)

    go producer(buf)

    go consumer(buf, flg)
    <-flg
    }


    #+END_SRC
    channel
    ch := make(chan int, 10)
    channel,select,channel
    #+BEGIN_SRC go 

    // Package main provides ...
    package main

    import (
    "fmt"
    )

    func Fibonacci(c, quit chan int) {
    x, y := 0, 1
    for {
    select {
    case c <- x:
    x, y = y, x+y
    case <-quit:
    fmt.Println("quit")
    return
    }
    }
    }
    func main() {
    c := make(chan int)
    quit := make(chan int)
    go func() {
    for i := 0; i < 10; i++ {
    fmt.Println(<-c)
    }
    quit <- 0
    }()

    Fibonacci(c, quit)
    }
    #+END_SRC
    channelread/write,,channel,
    .selectchannel.
    #+BEGIN_SRC go 
    // Package main provides ...
    package main

    import (
    "fmt"
    "time"
    )

    func main() {
    c := make(chan int)
    select {
    case <-c: //,c,
    fmt.Println("")
    case <-time.After(5 * time.Second):
    fmt.Println("")

    }
    }

    #+END_SRC
*** 
    ,.
    Gosync.
    #+BEGIN_SRC go 
    // Package main provides map
    package main

    import "errors"
    import "fmt"
    import "sync"

    type MyMap struct {
    mp    map[string]int
    mutex *sync.Mutex
    }

    func (this *MyMap) Get(key string) (int, error) {
    this.mutex.Lock()
    i, ok := this.mp[key]
    this.mutex.Unlock()
    if !ok {
    fmt.Println("")
    return i, errors.New("")
    }
    return i, nil
    }

    func (this *MyMap) Set(key string, v int) {
    this.mutex.Lock()
    defer this.mutex.Unlock()
    this.mp[key] = v
    }
    func (this *MyMap) Display() {
    this.mutex.Lock()
    defer this.mutex.Unlock()
    for k, v := range this.mp {
    fmt.Println(k, " = ", v)
    }
    }

    func SetValue(m *MyMap) {
    var a rune
    a = 'a'
    for i := 0; i < 10; i++ {
    m.Set(string(a+rune(i)), i)
     }
     }

     func main() {
     m := &MyMap{mp: make(map[string]int), mutex: new(sync.Mutex)}
     go SetValue(m)
     go m.Display()
     var str string
     fmt.Scan(&str)
     }

     #+END_SRC
* 
*** 
    Time.time.Now()
    #+BEGIN_SRC go 
    package main

    import (
    "fmt"
    "time"
    )

    func main() {
    fmt.Println(time.Now())
    //:2006-01-02 15:04:05
    fmt.Println(time.Now().Format("2006-01-02 15:04:05")) 
    }

    #+END_SRC 
    type Duration int64,.
    Duration.
    Add,Sub,After,Equal,Before
    #+BEGIN_SRC go
    package main
    import (
    "fmt"
    "time"
    )
    func main() {
    t := time.Now()
    t2 := time.Add(24*time.Hour)
    d := t2.Sub(t)
    fmt.Println(t)
    fmt.Println(t2)
    fmt.Println(d)

    if t.Before(t2) {
    fmt.Println("t < t2")
    }
    if t.After(t) {
    fmt.Println("t2 > t")
    }
    if t.Equal(t2) {
    fmt.Println(t == t2)
    }
    }
    #+END_SRC

* 
*** 
     func Base(path string) string 
     #+BEGIN_SRC go

     package main

     import (
     "fmt"
     "path"
     "strings"
     )

     func main() {
     fmt.Println(path.Base("/usr/bin"))
     fmt.Println(path.Base(""))
     fmt.Println(path.Base("C:\\Windows"))
     fmt.Println(path.Base(strings.Replace("C:\\Windows", "\\", "/", -1)))
     }
     #+END_SRC
*** 
func Create(name string) (file *File, err error)
,,.,0666
func Open(name string)(file *File, err error)
,.Open,.
func OpenFile(name string, flag int, perm FileMode)(file *File, err error)
OpenFile,,,.
Name;flag,
flag:
| O_RDONLY |                               |
| O_WRONLY |                               |
| O_RDWR   |                               |
| O_APPEND | ,     |
| O_CREATE |                           |
| O_EXCL   | O_CREATE,Open |
| O_SYNC   |                               |
| O_TRUNC  | ,.O_WRONLYO_RDWR        |

FileMode,,.
,O_CREATE
#+BEGIN_SRC go 
package main

import (
	"fmt"
	"io"
	"os"
)

func main() {
	f, err := os.OpenFile(".txt", os.O_CREATE|os.O_RDONLY|os.O_APPEND|os.O_WRONLY, 0666)

	if err != nil {
		fmt.Println(err.Error())
		return
	}
	defer f.Close()
	f.WriteString("\r\n\r\n")
	buf := make([]byte, 1024)

	var str string
	f.Seek(0, os.SEEK_SET) //

	for {
		n, ferr := f.Read(buf)
		if ferr != nil && ferr != io.EOF {
			fmt.Println(ferr.Error())
			break
		}
		if n == 0 {
			break
		}
		fmt.Println(n)
		str += string(buf[0:n])
	}
	fmt.Println(str)
}

#+END_SRC
*** 
OpenFile,,File
Readdir,,OS
func (f *File)Readdir(n int)(fi []FileInfo, err error)
#+BEGIN_SRC go
package main

import (
	"fmt"
	"os"
)

func main() {
	f, err := os.OpenFile("/usr/bin", os.O_RDONLY, 0666)
	if err != nil {
		fmt.Println(err.Error())
		return
	}
	defer f.Close()
	arrFile, err1 := f.Readdir(0)
	if err1 != nil {
		fmt.Println(err1.Error())
		return
	}

	for k, v := range arrFile {
		fmt.Println(k, "\t", v.Name(), "\t", v.IsDir())
	}
}

#+END_SRC
*** 
.
,.
,,.
GobGo,interface,function,channel
Go.Encoder,Decoder.
#+BEGIN_SRC go
package main

import (
	"encoding/gob"
	"fmt"
	"os"
)

type Student struct {
	Name string
	Age  int
}

func main() {
	s := &Student{Name: "", Age: 19}
	f, err := os.Create("data.dat")

	if err != nil {
		fmt.Println(err.Error())
		return
	}
	defer f.Close()

	//Encoder
	encode := gob.NewEncoder(f)
	encode.Encode(s)

	f.Seek(0, os.SEEK_SET)
	decoder := gob.NewDecoder(f)
	var s1 Student

	decoder.Decode(&s1)
	fmt.Println(s1)
}

#+END_SRC
* JSONXML
*** XML
Xml.
GoXMLencoding/xml.
func (enc *Encoder) Encode(v interface{}) error
 io.Writer.
func (d *Decoder) Decode(v interface{}) error 
io.Reader,xml
#+BEGIN_SRC go 
package main

import (
	"encoding/xml"
	"fmt"
	"os"
)

type Student struct {
	Name string
	Age  int
}

func main() {
	f, err := os.Create("data.dat")
	if err != nil {
		fmt.Println(err.Error())
		return
	}
	defer f.Close()
	s := &Student{Name: "111", Age: 19}
	encoder := xml.NewEncoder(f)
	encoder.Encode(s)

	f.Seek(0, os.SEEK_SET)

	decoder := xml.NewDecoder(f)
	var s1 Student

	decoder.Decode(&s1)
	fmt.Println(s1)
}

#+END_SRC
*** xmlMarshal
#+BEGIN_SRC go 
package main

import (
	"encoding/xml"
	"fmt"
)

type Student struct {
	Name string
	Age  int
}

func main() {
	s := &Student{Name: "", Age: 19}
	result, err := xml.Marshal(s)
	if err != nil {
		fmt.Println(err.Error())
		return
	}
	fmt.Println(string(result))
}

#+END_SRC
*** UnMarshalxml
#+BEGIN_SRC go 
package main

import (
	"encoding/xml"
	"fmt"
	"os"
)

type Student struct {
	Name string
	Age  int
}

func main() {
	f, err := os.Open("data.dat")
	if err != nil {
		fmt.Println(err.Error())
		return
	}
	defer f.Close()
	buf := make([]byte, 1024)
	n, err := f.Read(buf)
	fmt.Println(buf[0:n])
	str := string(buf[0:n])

	var s Student
	xml.Unmarshal(buf[0:n], &s)
	fmt.Println(s)
	xml.Unmarshal([]byte(str), &s)
	fmt.Println(s)
}

#+END_SRC
XML "<Student><Name></Name><Age>19</Age></Student>",
<Student>,Name,<Name>,
,.xml,
tagStructxml.
#+BEGIN_SRC go
package main

import (
	"encoding/xml"
	"fmt"
)

type Student struct {
	XMLName string `xml:"student"`
	Name    string `xml:"name"`
	Age     int    `xml:"age"`
}

type ABC string

func main() {
	str := `<?xml version="1.0" encoding="utf-8"?>
<student>
<name></name>
<age>19</age>
</student>`

	var s Student

	xml.Unmarshal([]byte(str), &s)
	fmt.Println(s)
}

#+END_SRC
,,Token
#+BEGIN_SRC go
package main

import (
	"encoding/xml"
	"fmt"
	"strings"
)

type Student struct {
	Name string `xml:"name"`
	Age  int    `xml:"age"`
}

type ABC string

func main() {
	str := `<?xml version="1.0" encoding="utf-8"?>
<student>
<name></name>
<age>19</age>
</student>`

	decoder := xml.NewDecoder(strings.NewReader(str))
	var strName string
	for {
		token, err := decoder.Token()
		if err != nil {
			break
		}
		switch t := token.(type) {
		case xml.StartElement:
			stelm := xml.StartElement(t)
			fmt.Println("Start ", stelm.Name.Local)
			strName = stelm.Name.Local
		case xml.EndElement:
			endelem := xml.EndElement(t)
			fmt.Println("End ", endelem.Name.Local)
		case xml.CharData:
			data := xml.CharData(t)
			str := string(data)
			switch strName {
			case "Name":
				fmt.Println(": ", str)
			case "Age":
				fmt.Println(": ", str)
			default:
				fmt.Println("other: ", str)
			}
		}
	}
	var s Student

	xml.Unmarshal([]byte(str), &s)
	fmt.Println(s)
}

#+END_SRC
*** JSON
JsonXML,,.
#+BEGIN_SRC go 
package main

import (
	"encoding/json"
	"fmt"
	"os"
)

type Student struct {
	Name string
	Age  int
}

func main() {
	f, err := os.Create("data.dat")
	if err != nil {
		fmt.Println(err.Error())
		return
	}

	defer f.Close()

	s := &Student{Name: "", Age: 19}

	encoder := json.NewEncoder(f)
	encoder.Encode(s)

	f.Seek(0, os.SEEK_SET)
	decoder := json.NewDecoder(f)
	var s1 Student
	decoder.Decode(&s1)
	fmt.Println(s1)
}

#+END_SRC
JsonMarshal,Unmarshal,`json:"JsonName"`
/json.
#+BEGIN_SRC go
package main

import (
	"encoding/json"
	"fmt"
)

type Student struct {
	Name string `json:"username"`
	Age  int
}

func main() {
	s := &Student{Name: "", Age: 19}

	buf, err := json.Marshal(s)
	if err != nil {
		fmt.Println(err.Error())
		return
	}

	fmt.Println(string(buf))
	var s1 Student
	err = json.Unmarshal(buf, &s1)
	if err != nil {
		fmt.Println(err.Error())
	}
	fmt.Println(s1)
}

#+END_SRC

* MySQL
*** MySQL
.Godatabase/sql,database/driver.
database/driver,,Go
,,.
MySQL:[[https://github.com/go-sql-driver/mysql][mysql]]
go get github.com/go-sql-driver/mysql
go install github/go-sql-driver/mysql 
*** MySQL
func Open(driverName, dataSourceName string)(*DB, error)
driverName.driverName,dataSourceName
,,
+ func (db *DB)Exec(query string, args ...interface{})(Result, error)
SQL,.,.querySQL
,args,errornil,Result,:
#+BEGIN_SRC  go
type Result interface {
   LastInsertId()(int64, error)
   RowsAffected()(int64, error)
}
#+END_SRC
LastInsertId,RowsAffected.
+ func (db *DB)Query(query string, args ...interface{})(*Rows,error)
SQL,.
+ func (r *Row)Scan(dest ...interface{}) error
,.
#+BEGIN_SRC go
var id int
var name string
row.Scan(&id, &name)
#+END_SRC

+ func (db *DB)QueryRow(query string, args ...interface{}) *Row
Query,,
:
#+BEGIN_SRC sql
Drop table if exists person;
create table person (
id int(11) not null auto_increment,
name varchar(255) default null,
age int(11) default null,
IsBoy tinyint(4) default null,
primary key (id)
) default charset=utf8;

#+END_SRC
#+BEGIN_SRC go 
package main

import (
	"database/sql"
	"fmt"
	_ "github.com/go-sql-driver/mysql"
)

func main() {
	db, err := sql.Open("mysql", "root:root@tcp(127.0.0.1:3306)/sampledb?charset=utf8")
	if err != nil {
		fmt.Println(err)
		return
	}
	defer db.Close()
	var result sql.Result

	result, err = db.Exec("insert into person(name, age, IsBoy) values(?,?,?)", "", 19, true)
	if err != nil {
		fmt.Println(err)
		return
	}

	lastId, _ := result.LastInsertId()
	fmt.Println("ID: ", lastId)
	var row *sql.Row

	row = db.QueryRow("select * from person")
	var name string
	var id, age int
	var isBoy bool
	err = row.Scan(&id, &name, &age, &isBoy)
	if err != nil {
		fmt.Println(err)
		return
	}

	fmt.Println(id, "\t", name, "\t", age, "\t", isBoy)

	result, err = db.Exec("insert into person(name, age, IsBoy) values(?, ?, ?)", "", 18, false)
	fmt.Println("---------------")
	var rows *sql.Rows
	rows, err = db.Query("select * from person")
	if err != nil {
		fmt.Println(err.Error())
		return
	}

	for rows.Next() {
		var name string
		var id, age int
		var isBoy bool
		rows.Scan(&id, &name, &age, &isBoy)
		fmt.Println(id, "\t", name, "\t", age, "\t", isBoy)
	}

	rows.Close()
	//
	//db.Exec("truncate table person")
}
#+END_SRC

+ func (db *DB)Prepare(query string)(*Stmt, error)
SQL,*Stmt.Prepare,10000.
#+BEGIN_SRC go
package main

import (
	"database/sql"
	"fmt"
	_ "github.com/go-sql-driver/mysql"
	"math/rand"
	"time"
)

func main() {
	db, err := sql.Open("mysql", "root:root@tcp(127.0.0.1:3306)/sampledb?charset=utf8")
	if err != nil {
		fmt.Println(err)
		return
	}
	defer db.Close()

	var stmt *sql.Stmt
	stmt, err = db.Prepare("insert into person(name, age, IsBoy) values(?,?,?)")

	if err != nil {
		fmt.Println(err)
		return
	}
	fmt.Println("...", time.Now())
	r := rand.New(rand.NewSource(time.Now().UnixNano()))
	for i := 0; i < 10000; i++ {
		_, err = stmt.Exec(fmt.Sprintf("%d", r.Int()), r.Intn(50), r.Intn(100)%2)
		if err != nil {
			fmt.Println(err)
			return
		}
	}
	fmt.Println("...", time.Now())
}

#+END_SRC
*** 
,,,/.
#+BEGIN_SRC go 
func (db *DB)Begin() (*Tx, error) //
func (tx *Tx)Commit() error  //
func (tx *Tx)Rollback() error //
#+END_SRC
:
#+BEGIN_SRC go
package main

import (
	"database/sql"
	"fmt"
	_ "github.com/go-sql-driver/mysql"
)

func main() {
	db, err := sql.Open("mysql", "root:root@tcp(127.0.0.1:3306)/sampledb?charset=utf8")
	if err != nil {
		fmt.Println(err.Error())
		return
	}

	defer db.Close()
	var trans *sql.Tx
	trans, err = db.Begin()
	if err != nil {
		fmt.Println(err.Error())
		return
	}
	_, err = trans.Exec("insert into person (name, age, IsBoy) values('',77, false)")
	if err != nil {
		trans.Rollback()
	} else {
		trans.Commit()
	}
}

#+END_SRC
* 
*** 
.
#+BEGIN_SRC go
func TypeOf(i interface{}) Type //i,inil,nil,Type
#+END_SRC
Type
#+BEGIN_SRC go
type Type interface{
 Name() string 
 PkgPath() string
 ....
}
#+END_SRC
*** 
TypeOf,ValueOf,,TypeOf,,
,ValueOf.
#+BEGIN_SRC go
package main

import (
	"fmt"
	"reflect"
)

type Student struct {
	Name string
	Age  int
}

func (this *Student) PrintName() {
	fmt.Println(this.Name)
}
func (this *Student) GetAge() int {
	return this.Age
}

func main() {
	s := &Student{Name: "abc", Age: 19}
	rt := reflect.TypeOf(s)//&,  
	rv := reflect.ValueOf(s)//&,
	fmt.Println("Typeof ")
	rtm, ok := rt.MethodByName("PrintName")
	if ok {
		var parm []reflect.Value
		parm = append(parm, rv)
		rtm.Func.Call(parm)
	}
	//valueof
	fmt.Println("valueof")

	rvm := rv.MethodByName("GetAge")
	//valueofStruct
	ret := rvm.Call(nil)
	//
	fmt.Println("")
	ShowSlice(ret)
}

func ShowSlice(s []reflect.Value) {
	if s != nil && len(s) > 0 {
		for _, v := range s {
			fmt.Println(v.Interface())
		}
	}
}

#+END_SRC
*** StructTag
tag.
#+BEGIN_SRC go
package main

import (
	_ "encoding/json"
	"fmt"
	"reflect"
)

type Student struct {
	Name string `json:"name"`
	Age  int    `json:"age"`
}

func main() {
	s := Student{Name: "aaa", Age: 19}
	rt := reflect.TypeOf(s)
	filedName, ok := rt.FieldByName("Name")
	//tag
	if ok {
		fmt.Println(filedName.Tag.Get("json"))
	}
	fileAge, ok := rt.FieldByName("Age")
	if ok {
		fmt.Println(fileAge.Tag.Get("json"))
	}
}

#+END_SRC

* ORM
*** ORM
orm,Insert,Update,Delete,Load.
,Insert(model),SQL,
modelstruct,Insert,,
,,
,tag.
#+BEGIN_SRC go
type Person struct {
	//TableName.
	TableName SimpleDb.TableName "person"
	//PK
	Id int `name:"id"PK:"true"Auto:"true"`
	Name string "name" //name
	Age int "age"
	IsBoy bool
	NotUse string "-"
}
#+END_SRC

* TCPUDP
*** TCP
TCP/,(),,
(Peer-to-Peer).

GonetTcp
+ func InterfaceAddrs()([]Addr, error)
#+BEGIN_SRC go
// Package main provides ...
package main

import (
	"fmt"
	"net"
)

func main() {
	addr, err := net.InterfaceAddrs()

	if err != nil {
		fmt.Println(err.Error())
		return
	}
	fmt.Println(addr)
}
#+END_SRC
+ func LookupIP(host string)(addrs []IP, err error)IP.
IP[]byte,IP. type IP []byte 
#+BEGIN_SRC go
// Package main provides ...
package main

import (
	"fmt"
	"net"
)

func main() {
	ips, err := net.LookupIP("www.baidu.com")

	if err != nil {
		fmt.Println(err.Error())
		return
	}
	fmt.Println(ips)
}
#+END_SRC
+ func ResolveTCPAddr(net, addr string) (*TCPAddr, os.Error)
TCPAddr,:tcp/tcp4/tcp6,addr,
IP":".TCPAddr:
#+BEGIN_SRC go
type TCPAddr struct {
IP IP 
Port int 
}
#+END_SRC
:
#+BEGIN_SRC go
// Package main provides ...
package main

import (
	"fmt"
	"net"
)

func main() {
	ip, err := net.ResolveTCPAddr("tcp", "www.baidu.com:80")

	if err != nil {
		fmt.Println(err.Error())
		return
	}
	fmt.Println(ip)
}
#+END_SRC
+ func ListenTCP(net string, laddr *TCPAddr)(*TCPListener, error)
TCP.,,
,,.ListenTCP,
.
+ func (l *TCPListener)AcceptTCP()(*TCPConn, error)
,Conn,Conn.
+ func (l *TCPListener) Accept()(Conn, error)
AcceptTCP
+ func (c *TCPConn)Write(b []byte)(int, error)
TCPConn,b,int.
+ func (c *TCPConn)Read(b []byte) (int, error)
TCPConn,,b.
+ func DialTCP(net string,laddr, raddr *TCPAddr)(*TCPConn, error)
.nettcp/tcp4/tcp6,Laddr,null,
raddr.TCPConn,TCPConn,
.
*** TCP
,ls,cd.
,..
:
#+BEGIN_SRC go
package main

import (
	"bytes"
	"fmt"
	"io/ioutil"
	"net"
	"os"
)

const (
	LS  = "LS"
	CD  = "CD"
	PWD = "PWD"
)

func main() {
	//
	//7070
	tcpAddr, err := net.ResolveTCPAddr("tcp", ":7070")
	checkError(err)
	listener, err := net.ListenTCP("tcp", tcpAddr)
	checkError(err)
	for {
		//
		conn, err := listener.Accept()
		if err != nil {
			fmt.Println(err.Error())
			continue
		}
		fmt.Println("")
		go ServeClient(conn)
	}
}
func ServeClient(conn net.Conn) {
	defer conn.Close()
	str := ReadData(conn)
	if str == "" {
		SendData(conn, "")
		return
	}
	fmt.Println(": ", str)
	switch str {
	case LS:
		ListDir(conn)
	case PWD:
		Pwd(conn)
	default:
		if str[0:2] == CD {
			Chdir(conn, str[3:])
		} else {
			SendData(conn, "")
		}
	}
}

//
//os.Chdir
func Chdir(conn net.Conn, s string) {
	err := os.Chdir(s)
	if err != nil {
		SendData(conn, err.Error())
	} else {
		SendData(conn, "OK")
	}
}

//
func ListDir(conn net.Conn) {

	files, err := ioutil.ReadDir(".")
	if err != nil {
		SendData(conn, err.Error())
		return
	}
	var str string
	for i, j := 0, len(files); i < j; i++ {
		f := files[i]
		str += f.Name() + "\t"
		if f.IsDir() {
			str += "dir\r\n"
		} else {
			str += "file\r\n"
		}
	}
	SendData(conn, str)
}

//
func ReadData(conn net.Conn) string {
	var data bytes.Buffer
	var buf [512]byte
	for {
		n, err := conn.Read(buf[0:])
		if err != nil {
			fmt.Println(err)
			return ""
		}
		if buf[n-1] == 0 {
			data.Write(buf[0 : n-1])
			break
		} else {
			data.Write(buf[0:n])
		}
	}
	return string(data.Bytes())
}

//
func SendData(conn net.Conn, data string) {
	buf := []byte(data)
	buf = append(buf, 0) //0
	_, err := conn.Write(buf)
	if err != nil {
		fmt.Println(err)
	}
}

// Pwd
func Pwd(conn net.Conn) {
	s, err := os.Getwd()
	if err != nil {
		SendData(conn, err.Error())
	} else {
		SendData(conn, s)
	}
}
func checkError(err error) {
	if err != nil {
		fmt.Println(err.Error())
		return
	}
}
#+END_SRC
 
#+BEGIN_SRC go
package main

import (
	"bufio"
	"bytes"
	"fmt"
	"net"
	"os"
	"strings"
)

const (
	LS   = "LS"
	CD   = "CD"
	PWD  = "PWD"
	QUIT = "QUIT"
)

func main() {

	reader := bufio.NewReader(os.Stdin)
	for {
		fmt.Println(": ")
		line, err := reader.ReadString('\n')
		checkError(err)
		//
		line = strings.TrimSpace(line)
		//
		line = strings.ToUpper(line)
		//
		arr := strings.SplitN(line, " ", 2)
		fmt.Println(arr)

		switch arr[0] {
		case LS:
			SendRequest(LS)
		case CD:
			SendRequest(CD + " " + strings.TrimSpace(arr[1]))
		case PWD:
			SendRequest(PWD)
		case QUIT:
			fmt.Println("")
			return
		default:
			fmt.Println("")
		}
	}
}

func SendRequest(cmd string) {
	tcpAddr, err := net.ResolveTCPAddr("tcp", "127.0.0.1:7070")
	checkError(err)
	conn, err := net.DialTCP("tcp", nil, tcpAddr)
	checkError(err)
	SendData(conn, cmd)
	fmt.Println(ReadData(conn))
}

//
func ReadData(conn net.Conn) string {
	var data bytes.Buffer
	var buf [512]byte
	for {
		n, err := conn.Read(buf[0:])
		if err != nil {
			fmt.Println(err)
			return ""
		}
		if buf[n-1] == 0 {
			data.Write(buf[0 : n-1])
			break
		} else {
			data.Write(buf[0:n])
		}
	}
	return string(data.Bytes())
}

//
func SendData(conn net.Conn, data string) {
	buf := []byte(data)
	buf = append(buf, 0) //0
	_, err := conn.Write(buf)
	if err != nil {
		fmt.Println(err)
	}
}

func checkError(err error) {
	if err != nil {
		fmt.Println(err.Error())
		return
	}
}
#+END_SRC
TCP,.
*** UDP
UDP(User Datagram Protocol,UDP),UDP
,.
+ func ResolveUDPAddr(net, addr string)(*UDPAddr, error)
addrUDPAddrnetudp/udp4/udp6,
+ func ListenUDP(net string laddr *UDPAddr)(*UDPConn, error)
(laddr),UDP.*UDPConn,
ReadFromUDP.WriteTo.
+ func (c *UDPConn)ReadFrom(b []byte)(int, Addr, error)
UDPAddr
+ func (c *UDPConn)WriteTo(b []byte, addr Addr)(int, error)
addrbaddr
+ func DialUDP(net string, laddr, raddr *UDPAddr) (*UDPConn, error)
raddrladdrnilnilladdr
+ func (c *UDPConn) Write(b []byte)(int, error)

+ func (c *UDPConn)ReadFromUDP(b []byte)(n int, addr *UDPAddr, err error)
ReadFromUDP



#+BEGIN_SRC go
package main

import (
	"fmt"
	"net"
)

func main() {
	//
	addr, err := net.ResolveUDPAddr("udp", ":7070")
	if err != nil {
		fmt.Println(err.Error())
		return
	}

	//7070
	conn, err := net.ListenUDP("udp", addr)
	if err != nil {
		fmt.Println(err.Error())
		return
	}
	//
	for {
		var buf [1024]byte
		n, caddr, err := conn.ReadFromUDP(buf[0:]) //
		if err != nil {
			fmt.Println(err)
			return
		}

		go HandleClient(conn, buf[0:n], caddr)
	}
}

func HandleClient(conn *net.UDPConn, data []byte, addr *net.UDPAddr) {
	fmt.Println(": " + string(data))
	conn.WriteToUDP([]byte("OK, "), addr)
}
#+END_SRC
:
#+BEGIN_SRC go
package main

import (
	"fmt"
	"net"
)

func main() {
	//
	addr, err := net.ResolveUDPAddr("udp", "127.0.0.1:7070")
	if err != nil {
		fmt.Println(err.Error())
		return
	}

	//
	conn, err := net.DialUDP("udp", nil, addr)
	if err != nil {
		fmt.Println(err.Error())
		return
	}
	defer conn.Close()

	//
	n, err := conn.Write([]byte("Hello Server"))
	if err != nil {
		fmt.Println(err.Error())
		return
	}

	var buf [1024]byte
	//,, , err;,_
	n, _, err = conn.ReadFromUDP(buf[0:])
	if err != nil {
		fmt.Println(err.Error())
		return
	}

	fmt.Println(string(buf[0:n]))
}

#+END_SRC

* WEB
*** web
Go WEB.
+ func HandleFunc(partten string, handler func(ResponseWrite, *Request))
http,parttenhttp,handler.
+ func ListenAndServe(addr string, handler Handler) error
HTTP,,.
:
#+BEGIN_SRC go
package main

import (
	"net/http"
)

func main() {
	http.HandleFunc("/", HandleRequest)
	http.ListenAndServe(":8888", nil)
}

func HandleRequest(w http.ResponseWriter, r *http.Request) {
	w.Write([]byte("<h1>web</h1"))
	w.Write([]byte(r.URL.Path))
}
#+END_SRC
,:http://127.0.0.1:8888/test

[[./firstweb.png]]
*** URLForm
http.Request.URL.Query(),Values,
map[string][]string
#+BEGIN_SRC go
package main

import (
	"fmt"
	"net/http"
)

func main() {
	http.HandleFunc("/", HandleRequest)
	http.ListenAndServe(":8888", nil)
}

func HandleRequest(w http.ResponseWriter, r *http.Request) {
	w.Write([]byte("<h1>web</h1"))
	w.Write([]byte("\n<h1>URL</h1>"))
	w.Write([]byte(fmt.Sprintf("%v", r.URL.Query())))
	w.Write([]byte(r.URL.Path))
}
#+END_SRC
:

[[url.png]]

+ func (r *Request)ParseForm() error
URLr.Form

#+BEGIN_SRC go
package main

import (
	"fmt"
	"net/http"
)

func main() {
	http.HandleFunc("/", HandleRequest)
	http.ListenAndServe(":8888", nil)
}

func HandleRequest(w http.ResponseWriter, r *http.Request) {
	w.Header().Add("Content-Type", " text/html;charset=utf-8")
	if "POST" == r.Method {
		r.ParseForm()
		//FormValue("username")
		w.Write([]byte(": " + r.FormValue("username") + "<br/>"))
		w.Write([]byte("<hr/>"))
		names := r.Form["username"]
		w.Write([]byte("username : " + fmt.Sprintf("%v", names)))
		w.Write([]byte("<hr/>r.Form: " + fmt.Sprintf("%v", r.Form)))
		w.Write([]byte("<hr/>r.PostForm: " + fmt.Sprintf("%v", r.Form)))
	} else {
		strBody := `<form action="` + r.URL.RequestURI() + `" method="post">
: <input name="username" type="text" /><br/>
: <input name="username" type="text" /><br/>
<input type="submit" id="submit" value="submit">
</form>`
		w.Write([]byte(strBody))
		r.ParseForm()
	}
}
#+END_SRC
*** 
Go,Request.FormFilemultipart.File,,.
+ func (r *Request)FormFile(key string)(multipart.File, *multipart.FileHeader, error)
multipart.File,io.Reader,.
multipart.FileHeader,,
#+BEGIN_SRC go
type File interface {
	io.Reader
	io.ReaderAt
	io.Seeker
	io.Closer
}
type FileHeader struct {
	Filename string
	Header textproto.MIMEHeader
	...
}
#+END_SRC
:
#+BEGIN_SRC go
package main

import (
	"fmt"
	"io"
	"net/http"
	"os"
)

func HelloServer(w http.ResponseWriter, r *http.Request) {
	if "POST" == r.Method {
		file, handler, err := r.FormFile("file")
		if err != nil {
			http.Error(w, err.Error(), 500)
			return
		}
		fmt.Println(handler.Header)
		defer file.Close()

		f, err := os.OpenFile("./"+handler.Filename, os.O_WRONLY|os.O_CREATE, os.ModePerm)
		if err != nil {
			fmt.Println(err.Error())
			return
		}

		defer f.Close()

		size, err := io.Copy(f, file)
		if err != nil {
			fmt.Println(err.Error())
			return
		}
		fmt.Fprintf(w, ": %d", size)
		return
	}
	w.Header().Add("Content-Type", "text/html;charset=utf-8")
	w.WriteHeader(200)
	html := `<Form enctype="multipart/form-data" action="/" method="POST">
: <input name="file" type="file" /><br/>
<input type="submit" value="Upload File" />
</form>`

	io.WriteString(w, html)
}

func main() {
	http.HandleFunc("/", HelloServer)
	err := http.ListenAndServe(":8888", nil)
	if err != nil {
		fmt.Println(err.Error())
	}
}
#+END_SRC
*** HTML
html/templateParseExecute,parse,Execute.
- func (t *Template) Parse(text string) (* Template, error)
Text,*Template,,errornil.
- func (t *Template)Execute(wr io.Write,data interface{})(err error)
wr, data.
- func (t *Template)ParseFile(filename ...string)(*Template, error)
ParseFileTemplate,.
:
#+BEGIN_SRC go
package main

import (
	"fmt"
	"html/template"
	"net/http"
)

func main() {
	http.HandleFunc("/", HelloServer)
	err := http.ListenAndServe(":8888", nil)
	if err != nil {
		fmt.Println(err.Error())
	}
}

func HelloServer(w http.ResponseWriter, r *http.Request) {
	t, err := template.ParseFiles("test.tpl") //test.tpl
	if err != nil {
		fmt.Println(err.Error())
		return
	}

	err = t.Execute(w, nil) //,,,nil
	if err != nil {
		fmt.Println(err.Error())
	}
}
#+END_SRC
*** 
1)  ,{{}},{{.}},{{.UserName}}
:
#+BEGIN_SRC go
package main

import (
	"fmt"
	"html/template"
	"os"
)

func main() {
	strTpl := ",{{.}}\n"
	t, err := template.New("test").Parse(strTpl)
	if err != nil {
		fmt.Println(err.Error())
		return
	}

	strTpl2 := ": {{.Name}}\n: {{.Age}}\n"
	user := make(map[string]interface{})
	user["Name"] = "" //
	user["Age"] = 1.5
	t, err = template.New("test2").Parse(strTpl2)
	if err != nil {
		fmt.Println(err.Error())
		return
	}

	err = t.Execute(os.Stdout, user)
	if err != nil {
		fmt.Println(err.Error())
	}
}
#+END_SRC
2) if else
if else:
{{if pipeline}} T1 {{else}} TO {{end}}

{{if pipeline}} T1 {{end}}
:
#+BEGIN_SRC go
package main

import (
	"fmt"
	"html/template"
	"os"
)

func main() {
	strTpl := "{{if .IsLogin}}  {{else}}  {{end}}\n {{if .IsVip}}  {{else}}  {{end}}\n"
	data := make(map[string]bool)
	data["IsLogin"] = true
	t, err := template.New("test").Parse(strTpl)
	if err != nil {
		fmt.Println(err.Error())
		return
	}

	err = t.Execute(os.Stdout, data)
	if err != nil {
		fmt.Println(err)
	}
}
#+END_SRC
3) range rangearray,map,slice,channel.

{{range pipeline}} T1 {{end}}

{{range pipeline}} T1 {{else}} TO {{ end }}
#+BEGIN_SRC go
package main

import (
	"fmt"
	"html/template"
	"os"
)

func main() {
	strTpl := "{{range .test}} {{.}}\n{{end}} {{range .test1}} {{.}}\n {{else}} test1 {{end}}\n"
	data := make(map[string]interface{})
	arr := []int{1, 2, 3, 4}
	data["test"] = arr
	t, err := template.New("test").Parse(strTpl)
	if err != nil {
		fmt.Println(err.Error())
		return
	}

	err = t.Execute(os.Stdout, data)
	if err != nil {
		fmt.Println(err)
	}
}
#+END_SRC
*** 
Goand,or,len.
:
#+BEGIN_SRC go
package main

import (
	"fmt"
	"html/template"
	"os"
)

func main() {
	strTpl := "and a b:{{and .a .b}}\nor a b:{{or .a .b}}\n"

	data := make(map[string]bool)
	data["a"] = true
	data["b"] = false

	t, err := template.New("test").Parse(strTpl)
	if err != nil {
		fmt.Println(err.Error())
		return
	}

	err = t.Execute(os.Stdout, data)
	if err != nil {
		fmt.Println(err)
	}
}
#+END_SRC
GoFuncs,
- func (t *Template)Funcs(funcMap FuncMap) *Template
- type FuncMap map[string]interface{}
:
#+BEGIN_SRC go
package main

import (
	"fmt"
	"html/template"
	"os"
)

func main() {
	strTpl := "{{SayHello}}\n"
	funcs := make(template.FuncMap)
	funcs["SayHello"] = SayHello
	t, err := template.New("test").Funcs(funcs).Parse(strTpl)

	if err != nil {
		fmt.Println(err.Error())
		return
	}

	err = t.Execute(os.Stdout, nil)
	if err != nil {
		fmt.Println(err)
	}
}

func SayHello() string {
	return ","
}
#+END_SRC
* GUI 
GoGUIhttps://github.com/andlabs/ui
libuihttps://github.com/andlabs/libui
#+BEGIN_SRC shell
$ git clone https://github.com/andlabs/libui
$ cd libui; make
$ go get github.com/andlabs/ui
#+END_SRC
libuiui.h$GOPATH/src/github.com/andlabs/ui
outlibui.so.0 libui.so 
andlabs/ui:
#+BEGIN_SRC go -n
//file: main.go
package main

import (
	"fmt"

	"github.com/andlabs/ui"
)

func main() {
	fmt.Println("Hello World!")
	err := ui.Main(func() {
		name := ui.NewEntry()
		button := ui.NewButton("Greet")
		greeting := ui.NewLabel("")
		box := ui.NewVerticalBox()
		box.Append(ui.NewLabel("Enter your name: "), false)
		box.Append(name, false)
		box.Append(button, false)
		box.Append(greeting, false)
		window := ui.NewWindow("Hello", 200, 100, false)
		window.SetChild(box)
		button.OnClicked(func(*ui.Button) {
			greeting.SetText("Hello, " + name.Text() + "!")
		})
		window.OnClosing(func(*ui.Window) bool {
			ui.Quit()
			return true
		})
		window.Show()
	})

	if err != nil {
		panic(err)
	}
}

#+END_SRC
#+BEGIN_SRC shell
$ go build main.go
$ ./main
#+END_SRC
[[./gui.png]]
